suite: secretChart - CAS Api shared secret creation
templates:
  - shared-secret.yaml
tests:
  - it: provides a base64-encoded secret
    set:
      sharedSecret: Test1234
    asserts:
      - isKind:
          of: Secret
      - matchRegex:
          path: data.sharedSecret
          pattern: PFlPVVJfU0VDUkVUPg==
  - it: sets correct secret name
    asserts:
      - matchRegex:
          path: metadata.name
          pattern: cas-a5-api-shared-secret
